<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Exploratory data analyses of Legacy data | Flot Titel</title>
  <meta name="description" content="2 Exploratory data analyses of Legacy data | Flot Titel" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Exploratory data analyses of Legacy data | Flot Titel" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Exploratory data analyses of Legacy data | Flot Titel" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction.html"/>
<link rel="next" href="methods.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="exploratory-data-analyses-of-legacy-data.html"><a href="exploratory-data-analyses-of-legacy-data.html"><i class="fa fa-check"></i><b>2</b> Exploratory data analyses of Legacy data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="exploratory-data-analyses-of-legacy-data.html"><a href="exploratory-data-analyses-of-legacy-data.html#previous-study"><i class="fa fa-check"></i><b>2.1</b> Previous study</a></li>
<li class="chapter" data-level="2.2" data-path="exploratory-data-analyses-of-legacy-data.html"><a href="exploratory-data-analyses-of-legacy-data.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>2.2</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="2.3" data-path="exploratory-data-analyses-of-legacy-data.html"><a href="exploratory-data-analyses-of-legacy-data.html#variable-selection"><i class="fa fa-check"></i><b>2.3</b> Variable selection</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>3</b> Methods</a></li>
<li class="chapter" data-level="4" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>4</b> Results</a></li>
<li class="chapter" data-level="5" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>5</b> Discussion</a></li>
<li class="chapter" data-level="6" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>6</b> Conclusion</a></li>
<li class="chapter" data-level="7" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>7</b> Appendix</a>
<ul>
<li class="chapter" data-level="7.1" data-path="appendix.html"><a href="appendix.html#appendix-a-additional-tables"><i class="fa fa-check"></i><b>7.1</b> Appendix A: additional tables</a></li>
<li class="chapter" data-level="7.2" data-path="appendix.html"><a href="appendix.html#appendix-b-additional-figures"><i class="fa fa-check"></i><b>7.2</b> Appendix B: additional figures</a></li>
<li class="chapter" data-level="7.3" data-path="appendix.html"><a href="appendix.html#appendix-c-code"><i class="fa fa-check"></i><b>7.3</b> Appendix C: code</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Flot Titel</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exploratory-data-analyses-of-legacy-data" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Exploratory data analyses of Legacy data</h1>
<div id="previous-study" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Previous study</h2>
<p>A similar study was conducted during spring 2021. The data was collected from a six vs six handball match with a heterogenous group, where both females and males were included. Some, had several years of experience in the highest levels of junior handball and some had close to zero experience.
The data was collected during two matches, in the first match the players from team A wore Catapult Vector IMU devices, in the second match team B wore the devices.
The devices collected inertial measurement data at 100Hz from a triaxial accelerometer and gyroscope with a range of <span class="math inline">\(3D \pm 16g\)</span> and <span class="math inline">\(2000^{\circ}/s\)</span> respectively. Videos were recorded with two GoPro Hero 7 cameras at 1080p / 48fps.
The study tried to classify seven different movements (see table <a href="exploratory-data-analyses-of-legacy-data.html#tab:originalLabels">2.1</a>) with machine learning.</p>
<table class=" lightable-material-dark table" style="font-family: &quot;Source Sans Pro&quot;, helvetica, sans-serif; margin-left: auto; margin-right: auto; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:originalLabels">Table 2.1: </span>Table of the original classifications of events
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;">
Labels
</th>
<th style="text-align:left;font-weight: bold;">
Description
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Very Low Intensity (VLI)
</td>
<td style="text-align:left;width: 30em; ">
Standing like movements
</td>
</tr>
<tr>
<td style="text-align:left;">
Low Intensity (LI)
</td>
<td style="text-align:left;width: 30em; ">
Walking like movements
</td>
</tr>
<tr>
<td style="text-align:left;">
Running Medium Intensity (RMI)
</td>
<td style="text-align:left;width: 30em; ">
Steady state linear and curved jogging and running at medium intensity
</td>
</tr>
<tr>
<td style="text-align:left;">
Running High Intensity (RHI)
</td>
<td style="text-align:left;width: 30em; ">
Sprinting without change of direction at near maximum intensity
</td>
</tr>
<tr>
<td style="text-align:left;">
Dynamic Medium Intensity (DMI)
</td>
<td style="text-align:left;width: 30em; ">
Medium intensity multi directional movements, linear acceleration and deceleration.
This includes different kinds of jumps, with the exception of jump shots.
</td>
</tr>
<tr>
<td style="text-align:left;">
Dynamic High Intensity (DHI)
</td>
<td style="text-align:left;width: 30em; ">
High intensity multi directional movements, linear acceleration, deceleration,
and different kinds of tackles.
</td>
</tr>
<tr>
<td style="text-align:left;">
Throw
</td>
<td style="text-align:left;width: 30em; ">
All kinds of shots and passes with a ball.
</td>
</tr>
</tbody>
</table>
<p>However, a very poor F1-score of 0.256 and an accuracy of 0.377 were found. Which is barely better than random guessing.
These poor results may have been caused by a lack of exploratory data analysis (EDA). Therefore, the purpose of this section was to investigate the data and see if better classifications can be made after a prober EDA.
Prior to the EDA a lowpass zero-phase 2nd order 5 Hz Butterworth filter was implemented, to attenuate frequencies above the chosen cut-off. A visual representation of the filter was created (see figure <a href="exploratory-data-analyses-of-legacy-data.html#fig:lowpassFilter">2.1</a>) to verify the chosen filter. Where plot A and B shows the forward acceleration in the time domain prior and after the implementation of the filter, respectively. Plot C and D shows the same acceleration vector but in the frequency domain before and after the implementation of the filter, respectively.</p>
<div class="figure"><span style="display:block;" id="fig:lowpassFilter"></span>
<img src="img/signalfilter.png" alt="Forward acceleration showed in time (A,B) and frequency (C,D) domain. The left plots (A,C) is before filtering and the right plots (B,D) is after filtering." width="100%" />
<p class="caption">
Figure 2.1: Forward acceleration showed in time (A,B) and frequency (C,D) domain. The left plots (A,C) is before filtering and the right plots (B,D) is after filtering.
</p>
</div>
</div>
<div id="exploratory-data-analysis" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Exploratory data analysis</h2>
<p>One of the primary overuse injuries in handball is occurring in the shoulder joint. Therefore, the first part of the EDA had the goal of finding clear patterns when the subjects performed throws.
First, a new labeling routine was conducted on the video material with the use of Catapult Vision software. Only priority for the new labeling routine was to label overhead throwing events to ensure that it was detectable by the IMU . A throw would be labeled as either soft, medium or hard. Where soft and medium would be passes between players at different subjective judged intensities and hard would be long powerful throws or goal attempts, where a clear rotation in yaw would occur.</p>
<p>It was expected that a clear pattern would emerge in the yaw rotation. Therefore, an algorithm to detect peaks and its index number was developed. This was used to find peaks in the yaw vector and extract the peak and 0.5s of data before and after the peak, so the time vector would be normalized when plotting (see figure <a href="exploratory-data-analyses-of-legacy-data.html#fig:preMapThrow">2.2</a>).
Figure <a href="exploratory-data-analyses-of-legacy-data.html#fig:preMapThrow">2.2</a> shows the example of the absolute yaw vector on the y-axis for soft, medium and hard throws and the normalized time on the x-axis. However, a clear pattern is not obvious on this plot. Instead, a lot of noise is seen, with a lot of small peaks before and after the main peak, especially for medium throws. Furthermore, it only found two hard throws even though this subject performed six.</p>
<div class="figure"><span style="display:block;" id="fig:preMapThrow"></span>
<img src="img/preMapThrowYaw.png" alt="Three plots showing the centered peak with a normalized time axis of 101 data points. x axis is the number of datapoints and y axis is the degree per second for the absolute yaw rotation, for subject 10." width="100%" />
<p class="caption">
Figure 2.2: Three plots showing the centered peak with a normalized time axis of 101 data points. x axis is the number of datapoints and y axis is the degree per second for the absolute yaw rotation, for subject 10.
</p>
</div>
<p>The lack of pattern in the yaw during throws led to exploration of the raw data compared to the video material. This showed that several of the IMUs was mapped to the wrong subjects and therefore the wrong labels. Remapping the devices to the correct subjects was done by finding peaks in different acceleration and gyroscope vectors in the raw data and compare it directly to the video material to find correlations.</p>
<p>As described earlier it was expected to find a clear pattern in the yaw rotation when performing a hard throw. This was confirmed when trying to remap the devices to the subjects.
Figure <a href="exploratory-data-analyses-of-legacy-data.html#fig:yawPhoto">2.3</a> shows a clear example of the pattern, which made the remaping possible. The throw is clearly seen in the yaw rotation data with a peak in the positive direction and then an even bigger peak in the negative direction.</p>
<div class="figure"><span style="display:block;" id="fig:yawPhoto"></span>
<img src="img/yawPhoto.png" alt="Graph represents one of the subjects performing a hard throw. With yaw rotation on the y axis and time on the x axis. The pictures is the physical movements the graph is recorded from. " width="100%" />
<p class="caption">
Figure 2.3: Graph represents one of the subjects performing a hard throw. With yaw rotation on the y axis and time on the x axis. The pictures is the physical movements the graph is recorded from.
</p>
</div>
<p>After the remapping, the peak finding algorithm was implemented again to produce figure <a href="exploratory-data-analyses-of-legacy-data.html#fig:postMapThrow">2.4</a>. It is now possible to see a much clearer pattern for each throw. However, it also shows that it can be difficult to visualize the intensity of a throw. A lot of the medium throws have the same pattern and amplitude as soft and the same goes for a few of the hard throws. Because of this difficulty it might be worth to revisit the original seven labels.</p>
<div class="figure"><span style="display:block;" id="fig:postMapThrow"></span>
<img src="img/postMapThrowYaw.png" alt="Three plots showing the centered peak with a normalized time axis of 101 data points after remapping. x axis is the number of datapoints and y axis is the degree per second for the absolute yaw rotation, for subject 10." width="100%" />
<p class="caption">
Figure 2.4: Three plots showing the centered peak with a normalized time axis of 101 data points after remapping. x axis is the number of datapoints and y axis is the degree per second for the absolute yaw rotation, for subject 10.
</p>
</div>
<p>Therefore, the seven original labels were changed to not consider the intensity. Which resulted in the following four labels:</p>
<ul>
<li>Low Intensity (LI and VLI)</li>
<li>Dynamic (DMI and DHI)</li>
<li>Running (RMI and RHI)</li>
<li>Throw (Throw)</li>
</ul>
<p>Keep in mind that in the original labelling process any kind of pass and shot would classify as a throw. However, this has been changed to only classify the overhead throws.</p>
</div>
<div id="variable-selection" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Variable selection</h2>
<p>One of the shortcomings of the study behind this dataset is the lack of a variable selection procedure. Therefore the “Variable Selection Using Random Forest” (VSURF)  package within R had been used to select the variable features that is of most importance to classify the labels.</p>
<p>This will be applied after the time series features and the aggregated features has been computed (see figure <a href="exploratory-data-analyses-of-legacy-data.html#fig:featureWorkflow">2.5</a>) and the most important features will be used for the final modelling process.</p>
<div class="figure"><span style="display:block;" id="fig:featureWorkflow"></span>
<img src="img/featureworkflow.png" alt="Showing the workflow from raw data to feature extraction" width="100%" />
<p class="caption">
Figure 2.5: Showing the workflow from raw data to feature extraction
</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="methods.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
